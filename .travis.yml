sudo: required #required to use docker
language: java
jdk: openjdk8

before_install:
  - openssl aes-256-cbc -K $encrypted_28c7f3de2fe6_key -iv $encrypted_28c7f3de2fe6_iv -in all.gpg.enc -out ./all.gpg -d
  - gpg --import all.gpg

env:
  global:
    - secure: "yuDbiWkhNQ9oHEME80GDANubD4kTAeStw+M8AopZY2PkW4BWkq4+btvVfOxCyD3mn/JphC6cvx94XR5XJPCjqGLUlUMaGUQh6GxXdqTV1Rr7ASO8HW9vnGdh068anzkAk8MMB3MsJkBud3SjoyWwopwhrDdTwDalWmO9Tx8L8F+xa6YHtdQJ1ag1aSILwW9kDkOMXnCw2epfiExPMsC+VpUmqtSulTkjosRl9NtY5mNbvny1EpgPxCzuLmDpMEMedKYsRyq1vXKte+NYEfQ9BC9Bu6fgNpnh/cswi4zr5+0cp/b1eWoEflBD54zJ3D4JHrRlDBiEZjtZUhTK+MEDs76b1kjBc9VoYl1DGGAHSeI+9hPiDpNd2p1eSbQVetAflyk+/c9iM3ZSYKPI/tEg1zavihkkFwcjhhkya6OmXhuOF4iv/PoGoOXqksIys9xUHeyvJ7mdZP6DkpH6UfLdzl4UwgZYLZ3+qGXrXND3zSIMfJ+CksxFonBXpPh0pOG+JbAiCo/gtkgCJnHL/j+v4/EneL5tW7Qbxq0wAanbzdjahE0xtv8ABwFZ0YwOXUrWrZh+HTudvOOcilqVsCNTqfF5GUdhm5IhMZMlzMoCGgvaMpvnOj4ZPGRqPcPNEYBnGlPg9eMVizgx8kjW64MbQcIEX0V39GxveGkkTK7qZrQ="
    - secure: "ttJeZ+nQeM5PRphaiJ/OLwr0ycJnxX0Q6K/M6uI1H0zHqqaaIcZqjidmxMuFQtmQQOxQVAwcztnz+9ZHIsh07SAVIQ4E9GhJ5QVEOmX+UUuzOVwGxb2SIuGn/e1XnRLZ39cFwEozstzZ9QeuqN+bqA7vDat5vp35XQFDqwSu3Q7oDRxLsyvf9Mv5DmDyFmjUz9BpVHSOwQs1IIGKRF2TB8zdhaN3E5BbDCrmD13UQE6SuFCTgsLLsHY/XgQSmFeoFd99fJjkv1dD4Vz0+W8C9knZUSbUv4Oy3nzKLtWDeLhKlWdBv2MWI9k+OoRqcCn0rROgCWKtyjg3oDwXfQMwANjqiEaAdg7xT9V5mfzXYBuMX3+TJIg+jPm3CCX3Nmv+bhnF3nIabEraCqOHr0VJrT5mvqcyJhdcGXCuPmheiGXtxhxsOZaQJ2G1l9dq5KisTOTkzRm2gmSqhJSQjEcpp3dtAy+ZDT+F2nefXoFOJbecode+92u2DlbiY7mvidoPPzHN5D2qU5IW447DhdXEwWNLFRxAyDsXdpnsiF+bwFbjkzMDxKW3ZS+5dnAm27SQUpltmVNUQpmDudLkgntFcUkVIz/vad28sqUcZFy8ba6mSGGiZGuI3bo7PDL2G/6txqvjoxwPt6k/Q4L8dRir1wB0DR6FCb1s4UJPlO0nojo="
    - secure: "brD2jLh5A3BvHdR9G7giBxOk/6ao/bFXOEdM04YaBAUYOromhzSX1hAXF5508R2lfQIyKJQYcKZPJ6ZGw9CVS5ktx1vlPZlwl5M8xjAPpN2OHn0EvBKFuqysHXCY1Ck07/tGiTOE7Hbbtg77rkJgNqnhvheejVT9Qsg6avPfjKtOq4gwzOs1X4PnWCmpIom9DqT9HsSxtOKRFqqaUe3zIJMOhgoe13jOak7hCZZVwUiBKN36asTxDI1E9FOpFm4FwpyJ33tqlKN4E+x0ZC9SXJEEH/x2O7S9WUgpToVKXfksFPPrOEQ++49phmFtnNlzAI2F2KrNiOkg+F4m7+iBlssZKC5Afc23cV7KdrnOWwNuKVFM46+ojo4diaXO+OdADgkLkz21voSJ3+PrkoedrpcOYu2iR+1RpDW4L9/9ZGp/c/p40LJl/8o3T9LKzZZyik1a/8F59+lU4VGlnaZRPw17vU9vxVGxx9s48vwj0rGP4GK+eQfpiEl3zmQXuZpd+sRGNi/ywmL/QmmPigOAClIGyjFNCT6FQ/jymwYbUgncGuMycbwl23j1LSxA4h4qmku8cqeKtARxvmhju5cctRMlqlGcCDTt5QcKndTkEjBYP5VwtcFU94E/DX9Vzk4hzqzy+9mH62IU3fqDguWtUN689yOLYs+unjwLIrmAibE="

cache:
  directories:
    - .autoconf
    - $HOME/.m2

services:
  - docker

install:
  - cp .travis.settings.xml $HOME/.m2/settings.xml && mvn clean install

script:
  - echo "no tests!" # put your normal testing scripts here
  - ls -l

deploy:
  provider: script
  script: "cp .travis.settings.xml $HOME/.m2/settings.xml && mvn deploy"
  skip_cleanup: true
  on:
    branch: main

notifications:
  slack: ${env.SLACK_URL_NOTIFICATIONS}